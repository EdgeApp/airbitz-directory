var app=angular.module("searchStarter",["ui.router","ngAnimate"]);app.config(function(e,t,o){o.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",t.otherwise("/"),e.state("home",{url:"/",templateUrl:"../partials/region-list.html",controller:"abRegionList",resolve:{regionData:function(e){return e.get("/mgmt/api/biz/countries").then(function(e){var t=e.data.results;return t})}}}).state("region",{url:"/region/:region",templateUrl:"../partials/region.html",controller:"abRegionDetails",resolve:{region:function(e,t){return e.get("/mgmt/api/biz/country/"+t.region).then(function(e){return e.data.results})}}})}),app.controller("abRegionList",["$scope","$http","SimpleCache","regionData",function(e,t,o,n){e.regionData=n,e.bizCount=function(){for(var e=0,t=0;t<n.length;t++)e+=n[t].biz_count;return e},e.regionLookup=function(e){return"US"===e?"United States":void 0},e.regionClicked=function(e){var t=$("#input-location"),n=$("#search-button");t.val(e),n.addClass("animated fadeInUp"),t.css({"border-color":"#2291cf","-webkit-transition":"border 100ms ease-out","-moz-transition":"border 100ms ease-out","-o-transition":"border 100ms ease-out"}),setTimeout(function(){n.removeClass("animated fadeInUp"),t.css({"border-color":"#ccc","-webkit-transition":"border 500ms ease-out","-moz-transition":"border 500ms ease-out","-o-transition":"border 500ms ease-out"})},1e3),o.put("country",e)}}]),app.controller("abRegionDetails",["$scope","SimpleCache","region",function(e,t,o){e.regionDetails=o,e.country=t.get("country"),e.bizCount=function(){for(var e=0,t=0;t<o.length;t++)e+=o[t].biz_count;return e},e.subRegionClicked=function(e,t){var o=$("#input-location"),n=$("#search-button");o.val(e+", "+t),n.addClass("animated fadeInUp"),o.css({"border-color":"#2291cf","-webkit-transition":"border 100ms ease-out","-moz-transition":"border 100ms ease-out","-o-transition":"border 100ms ease-out"}),setTimeout(function(){n.removeClass("animated fadeInUp"),o.css({"border-color":"#ccc","-webkit-transition":"border 500ms ease-out","-moz-transition":"border 500ms ease-out","-o-transition":"border 500ms ease-out"}),n.click()},1e3)}}]),app.service("SimpleCache",["$rootScope",function(){var e={};this.put=function(t,o){e[t]=o},this.remove=function(t){delete e[t]},this.get=function(t){return e[t]||null}}]);